(window["webpackJsonpe-guide"]=window["webpackJsonpe-guide"]||[]).push([[0],{126:function(e,t,a){e.exports=a(300)},131:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(16),i=a.n(l),r=(a(131),a(15)),c=a(21),s=a(22),u=a(25),m=a(23),p=a(26),h=(a(41),a(5)),d=a(304),g=a(34),f=a(17),E=a(29),v=a.n(E),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).setToken=function(e){localStorage.setItem("token",e)},a.getToken=function(){return localStorage.getItem("token")},a.getConfirm=function(){if("undefined"!==a.getToken())return g(a.getToken());console.log("no token found")},a.textInput=o.a.createRef(),a.passInput=o.a.createRef(),a.emailInput=o.a.createRef(),a.state={loading:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"signup",value:function(){var e=this.textInput.current.value,t=this.emailInput.current.value,a=this.passInput.current.value,n=this.props;this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3),fetch("http://localhost:8080/api/users",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then(function(e){return setTimeout(function(){200!==e.status&&alert("Sorry, an error occured, try again later")}.bind(this),1500),e.json()}).then(function(t){localStorage.setItem("token",t.token),localStorage.setItem("name",e),n.history.push("/Login/")})}},{key:"goToLogin",value:function(){this.props.history.push("/Login")}},{key:"goToSignup",value:function(){this.props.history.push("/Signup")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(h.ThemeProvider,{theme:Object(h.createTheme)()},o.a.createElement(h.Row,null,o.a.createElement(h.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(h.Arwes,{animate:!0,show:!0},function(t){var a,n,l;return o.a.createElement(o.a.Fragment,null,!1===e.state.loading?o.a.createElement("div",{style:{padding:20}},o.a.createElement("h1",null,"Citizen"),o.a.createElement("p",null,"You are not in danger"),o.a.createElement("p",null,o.a.createElement(h.Button,{onClick:function(){return e.goToSignup()}},"Signup")," or ",o.a.createElement(h.Button,{onClick:function(){return e.goToLogin()}},"Login")),o.a.createElement("div",{class:"container",style:{paddingTop:60}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(d.a,null,o.a.createElement(d.a.Group,{controlId:"formBasicUser"},o.a.createElement(d.a.Label,null,"Username"),o.a.createElement(d.a.Control,(a={ref:e.textInput,type:"text"},Object(r.a)(a,"type","text"),Object(r.a)(a,"placeholder","Enter user"),a))),o.a.createElement(d.a.Group,{controlId:"formBasicEmail",style:{paddingTop:20}},o.a.createElement(d.a.Label,null,"Email"),o.a.createElement(d.a.Control,(n={ref:e.emailInput,type:"text"},Object(r.a)(n,"type","text"),Object(r.a)(n,"placeholder","Enter email"),n))),o.a.createElement(d.a.Text,null,"We'll never share your email with anyone else."),o.a.createElement(d.a.Group,{controlId:"formBasicPassword",style:{paddingTop:20}},o.a.createElement(d.a.Label,null,"Password"),o.a.createElement(d.a.Control,(l={ref:e.passInput,type:"text"},Object(r.a)(l,"type","password"),Object(r.a)(l,"placeholder","Password"),l)))),o.a.createElement(h.Button,{variant:"primary",type:"submit",onClick:function(){return e.signup()}},"Submit"),o.a.createElement("div",{style:{paddingTop:40}},o.a.createElement("a",{className:"links",href:"/"},"Go Back")))))):o.a.createElement("div",{class:"container",style:{paddingTop:190}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})))))})))))}}]),t}(o.a.Component),b=Object(f.e)(y),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).setToken=function(e){localStorage.setItem("token",e)},a.getToken=function(){return localStorage.getItem("token")},a.getConfirm=function(){if("undefined"!==a.getToken())return g(a.getToken());console.log("no token found")},a.textInput=o.a.createRef(),a.passInput=o.a.createRef(),a.state={loading:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&this.props.history.push("/TheButton")}},{key:"login",value:function(){var e=this.textInput.current.value,t=this.passInput.current.value,a=this.props;this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3),fetch("http://localhost:8080/api/users/signin",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,password:t})}).then(function(e){return setTimeout(function(){200!==e.status&&alert("Sorry, an error occured, try again later")}.bind(this),1500),e.json()}).then(function(t){localStorage.setItem("token",t.token),localStorage.setItem("name",e),void 0!==t.token&&a.history.push("/TheButton")})}},{key:"goToLogin",value:function(){this.props.history.push("/Login")}},{key:"goToSignup",value:function(){this.props.history.push("/Signup")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(h.ThemeProvider,{theme:Object(h.createTheme)()},o.a.createElement(h.Row,null,o.a.createElement(h.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(h.Arwes,{animate:!0,show:!0},function(t){var a,n;return o.a.createElement(o.a.Fragment,null,!1===e.state.loading?o.a.createElement("div",{style:{padding:20}},o.a.createElement("h1",null,"Citizen"),o.a.createElement("p",null,"You are not in danger"),o.a.createElement("p",null,o.a.createElement(h.Button,{onClick:function(){return e.goToLogin()}},"Login")," or ",o.a.createElement(h.Button,{onClick:function(){return e.goToSignup()}},"Signup")),o.a.createElement("div",{class:"container",style:{paddingTop:60}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(d.a,null,o.a.createElement(d.a.Group,{controlId:"formBasicUser"},o.a.createElement(d.a.Label,null,"Username"),o.a.createElement(d.a.Control,(a={ref:e.textInput,type:"text"},Object(r.a)(a,"type","text"),Object(r.a)(a,"placeholder","Enter user"),a))),o.a.createElement(d.a.Group,{controlId:"formBasicPassword",style:{paddingTop:20}},o.a.createElement(d.a.Label,null,"Password"),o.a.createElement(d.a.Control,(n={ref:e.passInput,type:"text"},Object(r.a)(n,"type","password"),Object(r.a)(n,"placeholder","Password"),n)))),o.a.createElement(h.Button,{variant:"primary",type:"submit",onClick:function(){return e.login()}},"Submit"),o.a.createElement("div",{style:{paddingTop:40}},o.a.createElement("a",{className:"links",href:"/"},"Go Back")))))):o.a.createElement("div",{class:"container",style:{paddingTop:190}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})))))})))))}}]),t}(o.a.Component),k=a(39),S=a(118),j=a(305),O=a(307),w=a(306),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={loading:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"Logout",value:function(){this.props.fetchToggle(),setTimeout(function(){localStorage.removeItem("token"),localStorage.removeItem("name"),this.props.history.push("/")}.bind(this),1e3)}},{key:"goHome",value:function(){this.props.history.push("/TheButton")}},{key:"goMap",value:function(){this.props.history.push("/Map")}},{key:"goMyplaces",value:function(){this.props.history.push("/GetLocation")}},{key:"render",value:function(){var e=this;return o.a.createElement(j.a,{bg:"dark",variant:"dark",expand:"lg"},o.a.createElement(j.a.Brand,{onClick:function(){return e.goHome()}},"Citizen"),o.a.createElement(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(j.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(O.a,{className:"mr-auto"},o.a.createElement(O.a.Link,{onClick:function(){return e.goHome()}},"Home"),o.a.createElement(w.a,{title:"Activity",id:"basic-nav-dropdown"},o.a.createElement(w.a.Item,{onClick:function(){return e.goMap()}},"Alerts/Map"),o.a.createElement(w.a.Item,{onClick:function(){return e.goMyplaces()}},"My History"),o.a.createElement(w.a.Divider,null),o.a.createElement(w.a.Item,{onClick:function(){return e.Logout()}},"Logout")))))}}]),t}(o.a.Component),I=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e)),console.log("button",e),a.textInput=o.a.createRef(),a.passInput=o.a.createRef(),a.state={loading:!1},a.user=localStorage.getItem("name"),a.state={loading:!1},a.fetchToggle=a.fetchToggle.bind(Object(k.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"fetchToggle",value:function(){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3)}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1}),e||(this.props.history.push("/"),alert("You have to register/login first"))}.bind(this),1500)}},{key:"Logout",value:function(){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1}),localStorage.removeItem("token"),localStorage.removeItem("name"),this.props.history.push("/")}.bind(this),1e3)}},{key:"postLocation",value:function(e,t){var a=t.toString(),n=e.toString(),o=this.textInput.current.value,l=localStorage.getItem("name");this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3),fetch("http://localhost:8080/api/send/location",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({latitude:a,longitude:n,name:l,text:o})}).then(function(e){return setTimeout(function(){200!==e.status&&alert("Sorry, an error occured, try again later")}.bind(this),1500),e.json()})}},{key:"render",value:function(){var e=this;return this.props.isGeolocationAvailable?this.props.isGeolocationEnabled?this.props.coords?o.a.createElement("div",{className:"App"},o.a.createElement(h.ThemeProvider,{theme:Object(h.createTheme)()},o.a.createElement(h.Row,null,o.a.createElement(h.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(h.Arwes,{animate:!0,show:!0},function(t){var a;return o.a.createElement(o.a.Fragment,null,!1===e.state.loading?o.a.createElement("div",{style:{padding:20}},o.a.createElement(C,Object.assign({},e.props,{fetchToggle:e.fetchToggle})),o.a.createElement("div",{style:{paddingTop:20}},o.a.createElement("h1",null,"Welcome ",e.user),o.a.createElement("p",null,"You are not in danger"),o.a.createElement("p",null,"Make the incident public"),o.a.createElement("div",{class:"container",style:{paddingTop:60}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(d.a,null,o.a.createElement(d.a.Group,{controlId:"formBasicUser"},o.a.createElement(d.a.Label,null,"Write about the incident"),o.a.createElement(d.a.Control,(a={ref:e.textInput,type:"text"},Object(r.a)(a,"type","text"),Object(r.a)(a,"placeholder","i think that I am in danger..."),Object(r.a)(a,"maxlength","255"),a)))),o.a.createElement(h.Button,{variant:"primary",type:"submit",onClick:function(){return e.postLocation(e.props.coords.longitude,e.props.coords.latitude)}},"Send Location"),o.a.createElement("div",{style:{paddingTop:40}},o.a.createElement("a",{className:"links",onClick:function(){return e.Logout()}},"Logout"))))))):o.a.createElement("div",{class:"container",style:{paddingTop:190}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})))))}))))):null:o.a.createElement("div",null,"Geolocation is not enabled"):o.a.createElement("div",null,"Your browser does not support Geolocation")}}]),t}(o.a.Component),x=Object(S.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(I),L=a(308),B=a(310),A=a(303),F=a(309),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={locations:[],loading:!1},a.fetchToggle=a.fetchToggle.bind(Object(k.a)(a)),a.user=localStorage.getItem("name"),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"fetchToggle",value:function(){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3)}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1500),fetch("http://localhost:8080/api/send/myLocations/"+localStorage.getItem("name"),{headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(t){e.setState({locations:t})},function(e){console.log(e)})}},{key:"goToLogin",value:function(){this.props.history.push("/Login")}},{key:"goToSignup",value:function(){this.props.history.push("/Signup")}},{key:"goToTheButton",value:function(){this.props.history.push("/TheButton")}},{key:"Logout",value:function(){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1}),localStorage.removeItem("token"),localStorage.removeItem("name"),this.props.history.push("/")}.bind(this),1e3)}},{key:"goHome",value:function(){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1}),this.props.history.push("/TheButton")}.bind(this),1e3)}},{key:"render",value:function(){var e=this,t=this.state.locations;return o.a.createElement("div",{className:"App"},o.a.createElement(h.ThemeProvider,{theme:Object(h.createTheme)(),className:" ar"},o.a.createElement(h.Row,null,o.a.createElement(h.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(h.Arwes,{animate:!0,show:!0},function(a){return o.a.createElement(o.a.Fragment,null,!1===e.state.loading?o.a.createElement("div",null,o.a.createElement("div",{style:{padding:20}},o.a.createElement(C,Object.assign({},e.props,{fetchToggle:e.fetchToggle})),o.a.createElement("h1",null,e.user," Places"),o.a.createElement("p",null,"You are not in danger ")),o.a.createElement(h.Col,{s:12,m:6,l:6,offset:["l3"]},o.a.createElement(L.a,{center:[38,23.8],zoom:11,maxZoom:20,attributionControl:!0,zoomControl:!0,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35},o.a.createElement(B.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),t.map(function(e,t){return o.a.createElement(A.a,{key:t,position:[e.latitude,e.longitude]},o.a.createElement(F.a,null,e.text))})))):o.a.createElement("div",{class:"container",style:{paddingTop:190}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})))))})))))}}]),t}(o.a.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={locations:[],loading:!1},a.fetchToggle=a.fetchToggle.bind(Object(k.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"fetchToggle",value:function(){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3)}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1500),fetch("http://localhost:8080/api/send/danger").then(function(e){return e.json()}).then(function(t){e.setState({locations:t})},function(e){console.log(e)})}},{key:"goToLogin",value:function(){this.props.history.push("/Login")}},{key:"goToSignup",value:function(){this.props.history.push("/Signup")}},{key:"goToTheButton",value:function(){this.props.history.push("/TheButton")}},{key:"Logout",value:function(){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1}),localStorage.removeItem("token"),localStorage.removeItem("name"),this.props.history.push("/")}.bind(this),1e3)}},{key:"render",value:function(){var e=this,t=this.state.locations;return o.a.createElement("div",{className:"App"},o.a.createElement(h.ThemeProvider,{theme:Object(h.createTheme)(),className:" ar"},o.a.createElement(h.Row,null,o.a.createElement(h.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(h.Arwes,{animate:!0,show:!0},function(a){return o.a.createElement(o.a.Fragment,null,!1===e.state.loading?o.a.createElement("div",null,o.a.createElement("div",{style:{padding:20}},o.a.createElement(C,e.props),o.a.createElement("h1",null,"Danger Places"),o.a.createElement("p",null,"You are not in danger ")),o.a.createElement(h.Col,{s:12,m:6,l:6,offset:["l3"]},o.a.createElement(L.a,{center:[38,23.8],zoom:11,maxZoom:20,attributionControl:!0,zoomControl:!0,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35},o.a.createElement(B.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),t.map(function(e,t){return o.a.createElement(A.a,{key:t,position:[e.latitude,e.longitude]},o.a.createElement(F.a,null,e.text))})))):o.a.createElement("div",{class:"container",style:{paddingTop:190}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})))))})))))}}]),t}(o.a.Component),N=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,e))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"goToLogin",value:function(){this.props.history.push("/Login")}},{key:"goToSignup",value:function(){this.props.history.push("/Signup")}},{key:"goToTheButton",value:function(){this.props.history.push("/TheButton")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(h.ThemeProvider,{theme:Object(h.createTheme)(),className:" ar"},o.a.createElement(h.Row,null,o.a.createElement(h.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(h.Arwes,{animate:!0,show:!0},function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("div",{style:{padding:20}},o.a.createElement("h1",null,"Citizen"),o.a.createElement("p",null,"You are not in danger ")),o.a.createElement("div",{style:{paddingTop:80}},o.a.createElement(h.Button,{onClick:function(){return e.goToSignup()}},"Signup")," or ",o.a.createElement(h.Button,{onClick:function(){return e.goToLogin()},style:{cursor:"pointer"}},"Login")),o.a.createElement("div",{style:{paddingTop:120}},o.a.createElement("h1",null,"Press the alert button ")),o.a.createElement("div",{style:{paddingTop:80}},o.a.createElement(h.Button,{style:{width:300},onClick:function(){return e.goToTheButton()}},"Alert"))))})))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(38);i.a.render(o.a.createElement(G.a,null,o.a.createElement("div",null,o.a.createElement(f.a,{path:"/",component:N}),o.a.createElement(f.a,{path:"/TheButton",component:x}),o.a.createElement(f.a,{path:"/GetLocation",component:P}),o.a.createElement(f.a,{path:"/Map",component:M}),o.a.createElement(f.a,{path:"/Login",component:T}),o.a.createElement(f.a,{path:"/Signup",component:b}),o.a.createElement(f.a,{path:"/MainPage",component:N}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},41:function(e,t,a){}},[[126,1,2]]]);
//# sourceMappingURL=main.7e7f2406.chunk.js.map