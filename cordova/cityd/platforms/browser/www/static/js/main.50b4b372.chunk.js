(window["webpackJsonpe-guide"]=window["webpackJsonpe-guide"]||[]).push([[0],{237:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(31),r=n.n(l),c=(n(84),n(7)),i=n(14),s=n(15),u=n(17),m=n(16),p=n(18),d=(n(25),n(3)),h=n(238),g=n(22),E=n(12),f=n(23),v=n.n(f),y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).setToken=function(e){localStorage.setItem("token",e)},n.getToken=function(){return localStorage.getItem("token")},n.getConfirm=function(){if("undefined"!==n.getToken())return g(n.getToken());console.log("no token found")},n.textInput=o.a.createRef(),n.passInput=o.a.createRef(),n.emailInput=o.a.createRef(),n.state={loading:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&this.props.history.push("/TheButton")}},{key:"signup",value:function(){var e=this.textInput.current.value,t=this.emailInput.current.value,n=this.passInput.current.value,a=this.props;this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3),fetch("http://localhost:8080/api/users",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}).then(function(e){return setTimeout(function(){200!==e.status&&alert("Sorry, an error occured, try again later")}.bind(this),1500),e.json()}).then(function(t){localStorage.setItem("token",t.token),localStorage.setItem("name",e),a.history.push("/Login/")})}},{key:"goToLogin",value:function(){this.props.history.push("/Login")}},{key:"goToSignup",value:function(){this.props.history.push("/Signup")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(d.ThemeProvider,{theme:Object(d.createTheme)()},o.a.createElement(d.Row,null,o.a.createElement(d.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(d.Arwes,{animate:!0,show:!0},function(t){var n,a,l;return o.a.createElement(o.a.Fragment,null,!1===e.state.loading?o.a.createElement("div",{style:{padding:20}},o.a.createElement("h1",null,"Citizen"),o.a.createElement("p",null,"You are not in danger"),o.a.createElement("p",null,o.a.createElement(d.Button,{onClick:function(){return e.goToSignup()}},"Signup")," or ",o.a.createElement(d.Button,{onClick:function(){return e.goToLogin()}},"Login")),o.a.createElement("div",{class:"container",style:{paddingTop:60}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(h.a,null,o.a.createElement(h.a.Group,{controlId:"formBasicUser"},o.a.createElement(h.a.Label,null,"Username"),o.a.createElement(h.a.Control,(n={ref:e.textInput,type:"text"},Object(c.a)(n,"type","text"),Object(c.a)(n,"placeholder","Enter user"),n))),o.a.createElement(h.a.Group,{controlId:"formBasicEmail",style:{paddingTop:20}},o.a.createElement(h.a.Label,null,"Email"),o.a.createElement(h.a.Control,(a={ref:e.emailInput,type:"text"},Object(c.a)(a,"type","text"),Object(c.a)(a,"placeholder","Enter email"),a))),o.a.createElement(h.a.Text,null,"We'll never share your email with anyone else."),o.a.createElement(h.a.Group,{controlId:"formBasicPassword",style:{paddingTop:20}},o.a.createElement(h.a.Label,null,"Password"),o.a.createElement(h.a.Control,(l={ref:e.passInput,type:"text"},Object(c.a)(l,"type","password"),Object(c.a)(l,"placeholder","Password"),l)))),o.a.createElement(d.Button,{variant:"primary",type:"submit",onClick:function(){return e.signup()}},"Submit"))))):o.a.createElement("div",{class:"container",style:{paddingTop:190}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})))))})))))}}]),t}(o.a.Component),b=Object(E.e)(y),k=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).setToken=function(e){localStorage.setItem("token",e)},n.getToken=function(){return localStorage.getItem("token")},n.getConfirm=function(){if("undefined"!==n.getToken())return g(n.getToken());console.log("no token found")},n.textInput=o.a.createRef(),n.passInput=o.a.createRef(),n.state={loading:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&this.props.history.push("/TheButton")}},{key:"login",value:function(){var e=this.textInput.current.value,t=this.passInput.current.value,n=this.props;this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3),fetch("http://localhost:8080/api/users/signin",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,password:t})}).then(function(e){return setTimeout(function(){200!==e.status&&alert("Sorry, an error occured, try again later")}.bind(this),1500),e.json()}).then(function(t){localStorage.setItem("token",t.token),localStorage.setItem("name",e),void 0!==t.token&&n.history.push("/TheButton")})}},{key:"goToLogin",value:function(){this.props.history.push("/Login")}},{key:"goToSignup",value:function(){this.props.history.push("/Signup")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(d.ThemeProvider,{theme:Object(d.createTheme)()},o.a.createElement(d.Row,null,o.a.createElement(d.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(d.Arwes,{animate:!0,show:!0},function(t){var n,a;return o.a.createElement(o.a.Fragment,null,!1===e.state.loading?o.a.createElement("div",{style:{padding:20}},o.a.createElement("h1",null,"Citizen"),o.a.createElement("p",null,"You are not in danger"),o.a.createElement("p",null,o.a.createElement(d.Button,{onClick:function(){return e.goToLogin()}},"Login")," or ",o.a.createElement(d.Button,{onClick:function(){return e.goToSignup()}},"Signup")),o.a.createElement("div",{class:"container",style:{paddingTop:60}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(h.a,null,o.a.createElement(h.a.Group,{controlId:"formBasicUser"},o.a.createElement(h.a.Label,null,"Username"),o.a.createElement(h.a.Control,(n={ref:e.textInput,type:"text"},Object(c.a)(n,"type","text"),Object(c.a)(n,"placeholder","Enter user"),n))),o.a.createElement(h.a.Group,{controlId:"formBasicPassword",style:{paddingTop:20}},o.a.createElement(h.a.Label,null,"Password"),o.a.createElement(h.a.Control,(a={ref:e.passInput,type:"text"},Object(c.a)(a,"type","password"),Object(c.a)(a,"placeholder","Password"),a)))),o.a.createElement(d.Button,{variant:"primary",type:"submit",onClick:function(){return e.login()}},"Submit"))))):o.a.createElement("div",{class:"container",style:{paddingTop:190}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})))))})))))}}]),t}(o.a.Component),T=n(78),j=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).textInput=o.a.createRef(),n.passInput=o.a.createRef(),n.state={loading:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")||this.props.history.push("/")}},{key:"postLocation",value:function(e,t){var n=t.toString(),a=e.toString(),o=this.textInput.current.value,l=localStorage.getItem("name");this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1})}.bind(this),1e3),fetch("http://localhost:8080/api/send/location",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({latitude:n,longitude:a,name:l,text:o})}).then(function(e){return setTimeout(function(){200!==e.status&&alert("Sorry, an error occured, try again later")}.bind(this),1500),e.json()})}},{key:"render",value:function(){var e=this;return this.props.isGeolocationAvailable?this.props.isGeolocationEnabled?this.props.coords?o.a.createElement("div",{className:"App"},o.a.createElement(d.ThemeProvider,{theme:Object(d.createTheme)()},o.a.createElement(d.Row,null,o.a.createElement(d.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(d.Arwes,{animate:!0,show:!0},function(t){var n;return o.a.createElement(o.a.Fragment,null,!1===e.state.loading?o.a.createElement("div",{style:{padding:20}},o.a.createElement("h1",null,"Citizen"),o.a.createElement("p",null,"You are not in danger"),o.a.createElement("p",null,"Make the incident public"),o.a.createElement("div",{class:"container",style:{paddingTop:60}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(h.a,null,o.a.createElement(h.a.Group,{controlId:"formBasicUser"},o.a.createElement(h.a.Label,null,"Write about the incident"),o.a.createElement(h.a.Control,(n={ref:e.textInput,type:"text"},Object(c.a)(n,"type","text"),Object(c.a)(n,"placeholder","i think that I am in danger..."),Object(c.a)(n,"maxlength","255"),n)))),o.a.createElement(d.Button,{variant:"primary",type:"submit",onClick:function(){return e.postLocation(e.props.coords.longitude,e.props.coords.latitude)}},"Send Location"))))):o.a.createElement("div",{class:"container",style:{paddingTop:190}},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"}),o.a.createElement("div",{class:"col-lg-4 col-md-4 col-xs-12"},o.a.createElement(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})))))}))))):null:o.a.createElement("div",null,"Geolocation is not enabled"):o.a.createElement("div",null,"Your browser does not support Geolocation")}}]),t}(o.a.Component),w=Object(T.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(j),S=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,e))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&this.props.history.push("/TheButton")}},{key:"goToLogin",value:function(){this.props.history.push("/Login")}},{key:"goToSignup",value:function(){this.props.history.push("/Signup")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(d.ThemeProvider,{theme:Object(d.createTheme)()},o.a.createElement(d.Row,null,o.a.createElement(d.Col,{s:6,m:8,l:6,offset:["m2","l3"]},o.a.createElement(d.Arwes,{animate:!0,show:!0},function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{padding:20}},o.a.createElement("h1",null,"Citizen"),o.a.createElement("p",null,"You are not in danger")),o.a.createElement("div",{style:{paddingTop:80}},o.a.createElement(d.Button,{onClick:function(){return e.goToSignup()}},"Signup")," or ",o.a.createElement(d.Button,{onClick:function(){return e.goToLogin()},style:{cursor:"pointer"}},"Login")))})))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=n(32);r.a.render(o.a.createElement(O.a,null,o.a.createElement("div",null,o.a.createElement(E.a,{path:"/",component:S}),o.a.createElement(E.a,{path:"/TheButton",component:w}),o.a.createElement(E.a,{path:"/Login",component:k}),o.a.createElement(E.a,{path:"/Signup",component:b}),o.a.createElement(E.a,{path:"/MainPage",component:S}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},25:function(e,t,n){},79:function(e,t,n){e.exports=n(237)},84:function(e,t,n){}},[[79,1,2]]]);
//# sourceMappingURL=main.50b4b372.chunk.js.map